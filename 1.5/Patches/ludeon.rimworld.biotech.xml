<Patch>
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Biotech</li>
		</mods>
		<match Class="PatchOperationSequence">
			<success>Always</success>
			<operations>
				<!--Allows deconstruction of ancient ruins-->
				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="AncientExostriderHead" or
					defName="AncientMechGestator" or
					defName="AncientBasicRecharger" or
					defName="AncientStandardRecharger" or
					defName="AncientBandNode"]</xpath>
					<value>
						<costList>
							<ChunkSlagSteel>4</ChunkSlagSteel>
						</costList>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="AncientExostriderLeg" or
					defName="AncientToxifierGenerator"]</xpath>
					<value>
						<costList>
							<ChunkSlagSteel>3</ChunkSlagSteel>
						</costList>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="AncientLargeMechGestator"]</xpath>
					<value>
						<costList>
							<ChunkSlagSteel>5</ChunkSlagSteel>
						</costList>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="AncientExostriderRemains"]</xpath>
					<value>
						<costList>
							<ChunkSlagSteel>6</ChunkSlagSteel>
							<MechanoidTransponder>1</MechanoidTransponder>
						</costList>
					</value>
				</li>
				<!--Increases child learning rate: 1 -> 2-->
				<li Class="PatchOperationReplace">
					<xpath>Defs/StatDef[defName="LearningRateFactor"]/defaultBaseValue</xpath>
					<value>
						<defaultBaseValue>2</defaultBaseValue>
					</value>
				</li>
				<!--Reduces Impid tribe commonality on the world map: 1 -> 0.5-->
				<li Class="PatchOperationAdd">
					<xpath>Defs/FactionDef[defName="TribeSavageImpid"]</xpath>
					<value>
						<settlementGenerationWeight Inherit="False">0.5</settlementGenerationWeight>
					</value>
				</li>
				<!--Removes xeno-specific pawnkinddefs-->
				<li Class="PatchOperationRemove">
					<xpath>Defs/PawnKindDef[defName="Pirate_Yttakin" or
					defName="Scavenger_Yttakin" or
					defName="Drifter_Yttakin" or
					defName="Thrasher_Yttakin" or
					defName="Mercenary_Gunner_Yttakin" or
					defName="Mercenary_Heavy_Yttakin" or
					defName="Mercenary_Slasher_Yttakin" or
					defName="Mercenary_Sniper_Yttakin" or
					defName="Mercenary_Elite_Yttakin"]</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/PawnKindDef[defName="Villager_Pig" or
					defName="Villager_Child_Pig" or
					defName="Town_Guard_Pig" or
					defName="Town_Councilman_Pig" or
					defName="Town_Trader_Pig" or
					defName="Mercenary_Gunner_Pig" or
					defName="Mercenary_Elite_Pig"]</xpath>
				</li>
				<!--Removes unwanted xeno factions-->
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef[defName="TribeRoughNeanderthal" or
					defName="PirateYttakin" or
					defName="OutlanderRoughPig"]</xpath>
				</li>
				<!--Removes Sanguophage double-xenos-->
				<li Class="PatchOperationRemove">
					<xpath>Defs/XenotypeDef[defName="Sanguophage"]/doubleXenotypeChances/Pigskin</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/XenotypeDef[defName="Sanguophage"]/doubleXenotypeChances/Impid</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/XenotypeDef[defName="Sanguophage"]/doubleXenotypeChances/Yttakin</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/XenotypeDef[defName="Sanguophage"]/doubleXenotypeChances/Neanderthal</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/XenotypeDef[defName="Sanguophage"]/doubleXenotypeChances/Dirtmole</xpath>
				</li>
				<!--Removes Biotech xenotypes from faction generation-->
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef[@Name="OutlanderFactionBase" or
					@Name="PirateBandBase"]/xenotypeSet/xenotypeChances/Hussar</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef[@Name="OutlanderFactionBase" or
					@Name="PirateBandBase"]/xenotypeSet/xenotypeChances/Dirtmole</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef[@Name="OutlanderFactionBase" or
					@Name="PirateBandBase"]/xenotypeSet/xenotypeChances/Genie</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef[@Name="OutlanderFactionBase" or
					@Name="PirateBandBase"]/xenotypeSet/xenotypeChances/Neanderthal</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef[@Name="PirateBandBase"]/xenotypeSet/xenotypeChances/Pigskin</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef[@Name="PirateBandBase"]/xenotypeSet/xenotypeChances/Impid</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef[@Name="PirateBandBase"]/xenotypeSet/xenotypeChances/Yttakin</xpath>
				</li>
				<!--Removes unused Rulepacks-->
				<li Class="PatchOperationRemove">
					<xpath>Defs/RulePackDef[defName="NeanderthalUtility" or
					defName="NamerFactionTribalNeanderthal" or
					defName="NamerSettlementTribalNeaderthal" or
					defName="YttakinUtility" or
					defName="NamerFactionPirateYttakin" or
					defName="NamerSettlementPirateYttakin" or
					defName="NamerFactionOutlanderPig" or
					defName="NamerSettlementOutlanderPig"]</xpath>
				</li>
				<!--Removes narrow furskin heads-->
				<li Class="PatchOperationRemove">
					<xpath>Defs/HeadTypeDef[defName="Furskin_Narrow1" or
					defName="Furskin_Narrow2" or
					defName="Furskin_Narrow3"]</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/GeneDef[defName="Furskin"]/forcedHeadTypes/li[text()="Furskin_Narrow1" or
					text()="Furskin_Narrow2" or
					text()="Furskin_Narrow3"]</xpath>
				</li>
				<!--Removes other xenotypes from Waster faction-->
				<li Class="PatchOperationReplace">
					<xpath>Defs/FactionDef[defName="PirateWaster"]/xenotypeSet/xenotypeChances/Waster</xpath>
					<value>
						<Waster>1</Waster>
					</value>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef[defName="PirateWaster"]/xenotypeSet/xenotypeChances/Hussar</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef[defName="PirateWaster"]/xenotypeSet/xenotypeChances/Neanderthal</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef[defName="PirateWaster"]/xenotypeSet/xenotypeChances/Dirtmole</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef[defName="PirateWaster"]/xenotypeSet/xenotypeChances/Genie</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef[defName="PirateWaster"]/xenotypeSet/xenotypeChances/Pigskin</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef[defName="PirateWaster"]/xenotypeSet/xenotypeChances/Yttakin</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef[defName="PirateWaster"]/xenotypeSet/xenotypeChances/Impid</xpath>
				</li>
			<!--Makes Highmate genes uninheritable-->
			<li Class="PatchOperationAdd">
				<xpath>Defs/XenotypeDef[defName="Highmate"]</xpath>
				<value>
					<inheritable>false</inheritable>
				</value>
			</li>
			<!--Replaces Highmate genepool-->
			<li Class="PatchOperationReplace">
				<xpath>Defs/XenotypeDef[defName="Highmate"]/genes</xpath>
				<value>
					<genes>
						<li>WoundHealing_Slow</li>
						<li>PsychicAbility_Enhanced</li>
						<li>PsychicBonding</li>
						<li>Mood_Sanguine</li>
						<li>ViolenceDisabled</li>
						<li>KindInstinct</li>
						<li>Delicate</li>
						<li>Libido_High</li>
						<li>Beauty_Beautiful</li>
						<li>Hair_LongOnly</li>
						<li>Beard_NoBeardOnly</li>
						<li>Body_Standard</li>
						<li>Hair_SnowWhite</li>
						<li>Skin_Blue</li>
						<li>Hair_Grayless</li>
					</genes>
				</value>
			</li>
			<!--Replaces impid genepool-->
			<li Class="PatchOperationReplace">
				<xpath>Defs/XenotypeDef[defName="Impid"]/genes</xpath>
				<value>
					<genes>
						<li>PsychicAbility_Deaf</li>
						<li>Mood_Pessimist</li>
						<li>MaxTemp_LargeIncrease</li>
						<li>FireResistant</li>
						<li>Pain_Reduced</li>
						<li>Beard_NoBeardOnly</li>
						<li>Headbone_MiniHorns</li>
						<li>Body_Standard</li>
						<li>Body_Thin</li>
						<li>Hair_SandyBlonde</li>
						<li>Hair_LightOrange</li>
						<li>Skin_Orange</li>
						<li>Skin_DeepRed</li>
					</genes>
				</value>
			</li>
			<!--Lowers impid combat power to reflect changes-->
			<li Class="PatchOperationReplace">
				<xpath>Defs/XenotypeDef[defName="Impid"]/combatPowerFactor</xpath>
				<value>
					<combatPowerFactor>1</combatPowerFactor>
				</value>
			</li>
			<!--Adds greater impids-->
			<li Class="PatchOperationAdd">
				<xpath>Defs/XenotypeDef[defName="Impid"]</xpath>
				<value>
					<doubleXenotypeChances>
						<boomer_GreaterImpid>0.02</boomer_GreaterImpid>
					</doubleXenotypeChances>
				</value>
			</li>
			<!--Gives sanguophage red eyes-->
			<li Class="PatchOperationAdd">
				<xpath>Defs/XenotypeDef[defName="Sanguophage"]/genes</xpath>
				<value>
					<li>Eyes_Red</li>
				</value>
			</li>
			<!--Replaces waster genepool-->
			<li Class="PatchOperationReplace">
				<xpath>Defs/XenotypeDef[defName="Waster"]/genes</xpath>
				<value>
					<genes>
						<li>PsychicAbility_Deaf</li>
						<li>MoveSpeed_Slow</li>
						<li>ToxResist_Total</li>
						<li>ToxicEnvironmentResistance_Total</li>
						<li>Aggression_HyperAggressive</li>
						<li>Eyes_Gray</li>
						<li>Hair_ShortOnly</li>
						<li>Beard_NoBeardOnly</li>
						<li>Head_Gaunt</li>
						<li>Body_Thin</li>
						<li>Hair_Gray</li>
						<li>Skin_SlateGray</li>
						<li>PollutionRush</li>
					</genes>
				</value>
			</li>
			</operations>
		</match>
	</Operation>
</Patch>