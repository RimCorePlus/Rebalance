<Patch>
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Biotech</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>
			<!--Xenotype rework-->
				<!--Replace Highmate genepool-->
				<li Class="PatchOperationReplace">
					<xpath>Defs/XenotypeDef[defName="Highmate"]/genes</xpath>
					<value>
						<genes>
							<li>WoundHealing_Slow</li>
							<li>PsychicAbility_Enhanced</li>
							<li>PsychicBonding</li>
							<li>Mood_Sanguine</li>
							<li>ViolenceDisabled</li>
							<li>KindInstinct</li>
							<li>Delicate</li>
							<li>Libido_High</li>
							<li>Beauty_Beautiful</li>
							<li>Hair_LongOnly</li>
							<li>Beard_NoBeardOnly</li>
							<li>Body_Standard</li>
							<li>Hair_SnowWhite</li>
							<li>Skin_Blue</li>
							<li>Hair_Grayless</li>
						</genes>
					</value>
				</li>
				<!--Replace Impid genepool-->
				<li Class="PatchOperationReplace">
					<xpath>Defs/XenotypeDef[defName="Impid"]/genes</xpath>
					<value>
						<genes>
							<li>PsychicAbility_Deaf</li>
							<li>Mood_Pessimist</li>
							<li>MaxTemp_LargeIncrease</li>
							<li>FireResistant</li>
							<li>Pain_Reduced</li>
							<li>Beard_NoBeardOnly</li>
							<li>Headbone_MiniHorns</li>
							<li>Body_Standard</li>
							<li>Body_Thin</li>
							<li>Hair_SandyBlonde</li>
							<li>Hair_LightOrange</li>
							<li>Skin_Orange</li>
							<li>Skin_DeepRed</li>
						</genes>
					</value>
				</li>
				<!--Lower Impid combat power to reflect changes-->
				<li Class="PatchOperationReplace">
					<xpath>Defs/XenotypeDef[defName="Impid"]/combatPowerFactor</xpath>
					<value>
						<combatPowerFactor>1</combatPowerFactor>
					</value>
				</li>
				<!--Replace Waster genepool-->
				<li Class="PatchOperationReplace">
					<xpath>Defs/XenotypeDef[defName="Waster"]/genes</xpath>
					<value>
						<genes>
							<li>PsychicAbility_Deaf</li>
							<li>MoveSpeed_Slow</li>
							<li>ToxResist_Total</li>
							<li>ToxicEnvironmentResistance_Total</li>
							<li>Aggression_HyperAggressive</li>
							<li>Eyes_Gray</li>
							<li>Hair_ShortOnly</li>
							<li>Beard_NoBeardOnly</li>
							<li>Head_Gaunt</li>
							<li>Body_Thin</li>
							<li>Hair_Gray</li>
							<li>Skin_SlateGray</li>
							<li>PollutionRush</li>
						</genes>
					</value>
				</li>
				<!--Make PirateWaster a Waster-only faction-->
				<li Class="PatchOperationReplace">
					<xpath>Defs/FactionDef[defName="PirateWaster"]/xenotypeSet/xenotypeChances/Waster</xpath>
					<value>
						<Waster>1</Waster>
					</value>
				</li>
				<!--Make Highmate genes uninheritable-->
				<li Class="PatchOperationAdd">
					<xpath>Defs/XenotypeDef[defName="Highmate"]</xpath>
					<value>
						<inheritable>false</inheritable>
					</value>
				</li>
				<!--Add greater Impids-->
				<li Class="PatchOperationAdd">
					<xpath>Defs/XenotypeDef[defName="Impid"]</xpath>
					<value>
						<doubleXenotypeChances>
							<GreaterImpid>0.02</GreaterImpid>
						</doubleXenotypeChances>
					</value>
				</li>
				<!--Reduce commonality of Impid settlements-->
				<li Class="PatchOperationAdd">
					<xpath>Defs/FactionDef[defName="TribeSavageImpid"]</xpath>
					<value>
						<settlementGenerationWeight Inherit="False">0.8</settlementGenerationWeight>
					</value>
				</li>
				<!--Give Sanguophage red eyes-->
				<li Class="PatchOperationAdd">
					<xpath>Defs/XenotypeDef[defName="Sanguophage"]/genes</xpath>
					<value>
						<li>Eyes_Red</li>
					</value>
				</li>
				<!--Remove Impids from Waster faction-->
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef[defName="PirateWaster"]/xenotypeSet/xenotypeChances/Impid</xpath>
				</li>
				<!--Remove unwanted xeno factions (this worked better near the top)-->
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef[defName="TribeRoughNeanderthal" or
					defName="PirateYttakin" or
					defName="OutlanderRoughPig"]</xpath>
				</li>
				<!--Remove unwanted xeno-specific pawnkinddefs-->
				<li Class="PatchOperationRemove">
					<xpath>Defs/PawnKindDef[defName="Pirate_Yttakin" or
					defName="Scavenger_Yttakin" or
					defName="Drifter_Yttakin" or
					defName="Thrasher_Yttakin" or
					defName="Mercenary_Gunner_Yttakin" or
					defName="Mercenary_Heavy_Yttakin" or
					defName="Mercenary_Slasher_Yttakin" or
					defName="Mercenary_Sniper_Yttakin" or
					defName="Mercenary_Elite_Yttakin"]</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/PawnKindDef[defName="Villager_Pig" or
					defName="Villager_Child_Pig" or
					defName="Town_Guard_Pig" or
					defName="Town_Councilman_Pig" or
					defName="Town_Trader_Pig" or
					defName="Mercenary_Gunner_Pig" or
					defName="Mercenary_Elite_Pig"]</xpath>
				</li>
				<!--Remove unused Rulepacks-->
				<li Class="PatchOperationRemove">
					<xpath>Defs/RulePackDef[defName="YttakinUtility" or
					defName="NamerFactionPirateYttakin" or
					defName="NamerSettlementPirateYttakin" or
					defName="NamerFactionOutlanderPig" or
					defName="NamerSettlementOutlanderPig"]</xpath>
				</li>
				<!--Remove narrow furskin heads because why not-->
				<li Class="PatchOperationRemove">
					<xpath>Defs/HeadTypeDef[defName="Furskin_Narrow1" or
					defName="Furskin_Narrow2" or
					defName="Furskin_Narrow3"]</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/GeneDef[defName="Furskin"]/forcedHeadTypes/li[text()="Furskin_Narrow1" or
					text()="Furskin_Narrow2" or
					text()="Furskin_Narrow3"]</xpath>
				</li>
				<!--Remove unwanted xenos from generation-->
				<li Class="PatchOperationRemove">
					<xpath>Defs/XenotypeDef/doubleXenotypeChances/Pigskin</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/XenotypeDef/doubleXenotypeChances/Yttakin</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/XenotypeDef/doubleXenotypeChances/Neanderthal</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/XenotypeDef/doubleXenotypeChances/Dirtmole</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef/xenotypeSet/xenotypeChances/Hussar</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef/xenotypeSet/xenotypeChances/Dirtmole</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef/xenotypeSet/xenotypeChances/Genie</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef/xenotypeSet/xenotypeChances/Neanderthal</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef/xenotypeSet/xenotypeChances/Pigskin</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef/xenotypeSet/xenotypeChances/Yttakin</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/PawnKindDef/xenotypeSet/xenotypeChances/Hussar</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/PawnKindDef/xenotypeSet/xenotypeChances/Dirtmole</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/PawnKindDef/xenotypeSet/xenotypeChances/Genie</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/PawnKindDef/xenotypeSet/xenotypeChances/Neanderthal</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/PawnKindDef/xenotypeSet/xenotypeChances/Pigskin</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>Defs/PawnKindDef/xenotypeSet/xenotypeChances/Yttakin</xpath>
				</li>
				<!--Remove Impid earliest raid date since they're not OP anymore-->
				<li Class="PatchOperationRemove">
					<xpath>Defs/FactionDef[defName="TribeSavageImpid"]/earliestRaidDays</xpath>
				</li>
			<!--Misc Biotech changes-->
				<!--Increase child learning rate: 1 -> 2-->
				<li Class="PatchOperationReplace">
					<xpath>Defs/StatDef[defName="LearningRateFactor"]/defaultBaseValue</xpath>
					<value>
						<defaultBaseValue>2</defaultBaseValue>
					</value>
				</li>
				<!--Allow deconstruction of ancient ruins-->
				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="AncientExostriderHead" or
					defName="AncientMechGestator" or
					defName="AncientBasicRecharger" or
					defName="AncientStandardRecharger" or
					defName="AncientBandNode"]</xpath>
					<value>
						<costList>
							<ChunkSlagSteel>4</ChunkSlagSteel>
						</costList>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="AncientExostriderLeg" or
					defName="AncientToxifierGenerator"]</xpath>
					<value>
						<costList>
							<ChunkSlagSteel>3</ChunkSlagSteel>
						</costList>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="AncientLargeMechGestator"]</xpath>
					<value>
						<costList>
							<ChunkSlagSteel>5</ChunkSlagSteel>
						</costList>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="AncientExostriderRemains"]</xpath>
					<value>
						<costList>
							<ChunkSlagSteel>6</ChunkSlagSteel>
							<MechanoidTransponder>1</MechanoidTransponder>
						</costList>
					</value>
				</li>
			</operations>
		</match>
	</Operation>
</Patch>